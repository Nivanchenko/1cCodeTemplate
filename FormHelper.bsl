
Функция ПараметрыСозданияЭлементов() Экспорт 
	
	Результат = Новый Структура;
	
	Результат.Вставить("Имя");
	Результат.Вставить("Тип");
	Результат.Вставить("Родитель");
	Результат.Вставить("Место");
	Результат.Вставить("ПутьКДанным");
	Результат.Вставить("Вид");
	Результат.Вставить("Обработчики");
	
	Возврат Результат;
	
КонецФункции

Процедура СоздатьРеквизитФормы(Форма, Имя, Тип) Экспорт 
	
	ДобавляемыеРеквизиты = Новый Массив; 
	НовыйРеквизит = Новый РеквизитФормы(Имя, Тип); 
	ДобавляемыеРеквизиты.Добавить(НовыйРеквизит); 	
	Форма.ИзменитьРеквизиты(ДобавляемыеРеквизиты); 
	
КонецПроцедуры

//Тип - строка, например СправочникСсылка.Контрагенты
Процедура СоздатьРеквизитСсылка(Форма, Имя, ТипСсылки) Экспорт 
	
	ТипРеквизита = Новый ОписаниеТипов(ТипСсылки);
	
	СоздатьРеквизитФормы(Форма, Имя, ТипРеквизита); 
	
КонецПроцедуры
 
Процедура СоздатьРеквизитДата(Форма, Имя, ЧастьДаты) Экспорт 
	
	ТипРеквизита = Новый ОписаниеТипов("Дата",,,Новый КвалификаторыДаты(ЧастьДаты));
	
	СоздатьРеквизитФормы(Форма, Имя, ТипРеквизита); 
	
КонецПроцедуры
	
Процедура СоздатьРеквизитБулево(Форма, Имя) Экспорт 
	
	ТипРеквизита = Новый ОписаниеТипов("Булево");
	
	СоздатьРеквизитФормы(Форма, Имя, ТипРеквизита); 
	
КонецПроцедуры
	
Процедура СоздатьРеквизитЧисло(Форма, Имя, Размер, Точность) Экспорт 
	
	ТипРеквизита = Новый ОписаниеТипов("Число",Новый КвалификаторыЧисла(Размер, Точность));
	
	СоздатьРеквизитФормы(Форма, Имя, ТипРеквизита); 
	
КонецПроцедуры
	
Процедура СоздатьРеквизитСтрока(Форма, Имя, Длина = Неопределено) Экспорт 
	
	Если Длина = Неопределено Тогда
		ТипРеквизита = Новый ОписаниеТипов("Строка");
	Иначе
		ТипРеквизита = Новый ОписаниеТипов("Строка",,Новый КвалификаторыСтроки(Длина));
	КонецЕсли;
	СоздатьРеквизитФормы(Форма, Имя, ТипРеквизита); 
	
КонецПроцедуры
	
Функция СоздатьЭлементФормы(Форма, ПараметрыСоздания) Экспорт 
	
	НовыйЭлемент = Форма.Элементы.Добавить(ПараметрыСоздания.Имя, ПараметрыСоздания.Тип, ПараметрыСоздания.Родитель);
	НовыйЭлемент.Вид = ПараметрыСоздания.Вид;
	
	Если не ПараметрыСоздания.ПутьКДанным = Неопределено Тогда
		НовыйЭлемент.ПутьКДанным = ПараметрыСоздания.ПутьКДанным;
	КонецЕсли;
	
	Если не ПараметрыСоздания.Место = Неопределено Тогда
		Форма.Элементы.Переместить(НовыйЭлемент, ПараметрыСоздания.Родитель, ПараметрыСоздания.Место); 
	КонецЕсли;
	
	Если ТипЗнч(ПараметрыСоздания.Обработчики) = Тип("Структура") Тогда
		Для Каждого Обработчик из ПараметрыСоздания.Обработчики цикл
			НовыйЭлемент.УстановитьДействие(Обработчик.Ключ, Обработчик.Значение);	
		КонецЦикла;
	КонецЕсли;
	
	Возврат НовыйЭлемент;

КонецФункции

Функция СоздатьПолеВвода(Форма, Имя, ПутьКДанным, Родитель, Место = Неопределено, Обработчики = Неопределено) Экспорт 
	
	Параметры = ПараметрыСозданияЭлементов();
	
	Параметры.Имя = Имя;
	Параметры.Тип = Тип("ПолеФормы");
	Параметры.Родитель = Родитель;
	Параметры.Место = Место;
	Параметры.ПутьКДанным = ПутьКДанным;
	Параметры.Вид = ВидПоляФормы.ПолеВвода;
	Параметры.Обработчики = Обработчики;
	
	Возврат СоздатьЭлементФормы(Форма, Параметры);
	
КонецФункции

Функция СоздатьГруппуФормы(Форма, Имя, Родитель, Место = Неопределено, Обработчики = Неопределено) Экспорт 
	
	Параметры = ПараметрыСозданияЭлементов();
	
	Параметры.Имя = Имя;
	Параметры.Тип = Тип("ГруппаФормы");
	Параметры.Родитель = Родитель;
	Параметры.Место = Место;
	Параметры.Вид = ВидГруппыФормы.ОбычнаяГруппа;
	Параметры.Обработчики = Обработчики;
	
	Возврат СоздатьЭлементФормы(Форма, Параметры);
	
КонецФункции

Функция СоздатьПолеФлажка(Форма, Имя, ПутьКДанным, Родитель, Место = Неопределено, Обработчики = Неопределено) Экспорт 
	
	Параметры = ПараметрыСозданияЭлементов();
	
	Параметры.Имя = Имя;
	Параметры.Тип = Тип("ПолеФормы");
	Параметры.Родитель = Родитель;
	Параметры.Место = Место;
	Параметры.ПутьКДанным = ПутьКДанным;
	Параметры.Вид = ВидПоляФормы.ПолеФлажка;
	Параметры.Обработчики = Обработчики;
	
	Возврат СоздатьЭлементФормы(Форма, Параметры);
	
КонецФункции

Функция СоздатьКоманду(Форма, ИмяКоманды, Заголовок, ИмяОбработчика) Экспорт 
	НоваяКоманда = Форма.Команды.Добавить(ИмяКоманды);
	НоваяКоманда.Заголовок = Заголовок;
	НоваяКоманда.Действие = ИмяОбработчика; 
	
	Возврат НоваяКоманда;
КонецФункции

Функция СоздатьЭлементКнопка(Форма, Имя, Родитель, ИмяКоманды, Заголовок, Место = Неопределено) Экспорт 
	
	НовыйЭлемент = Форма.Элементы.Добавить(Имя, Тип("КнопкаФормы"),Родитель);
	НовыйЭлемент.Заголовок = Заголовок;
	НовыйЭлемент.ИмяКоманды = ИмяКоманды;
	
	Если не Место = Неопределено Тогда
		Форма.Элементы.Переместить(НовыйЭлемент, Родитель, Место); 
	КонецЕсли;
	
	Возврат НовыйЭлемент;
	
КонецФункции

Функция СоздатьКнопку(Форма, Имя, Родитель, ИмяКоманды, Заголовок, ИмяОбработчика, Место = Неопределено) Экспорт 
	
	Команда = СоздатьКоманду(Форма, ИмяКоманды, Заголовок, ИмяОбработчика);
	ЭлементКнопки = СоздатьЭлементКнопка(Форма, Имя, Родитель, ИмяКоманды, Заголовок, Место);
	
	Возврат ЭлементКнопки;
КонецФункции
